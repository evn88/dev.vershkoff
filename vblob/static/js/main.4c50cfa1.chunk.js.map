{"version":3,"sources":["components/Paginate.jsx","components/pages/comments/Table.jsx","components/pages/comments/Json.jsx","components/pages/comments/InputForm.jsx","components/pages/Home.jsx","components/pages/comments/CommentItem.jsx","components/Clock.jsx","components/pages/NotFound.jsx","App.jsx","index.jsx"],"names":["Paginate","props","range","from","to","step","i","push","gotoPage","page","onPageChanged","fetchPageNumbers","totalPages","Math","ceil","totalRecords","pageLimit","handleClick","e","preventDefault","state","pageNeighbours","this","currentPage","pages","dottedBtn","className","disabled","aria-label","onClick","icon","map","index","React","Component","Table","componentDidUpdate","prevProps","searchCount","setState","forceUpdate","numberDeclension","number","word","onPage","bind","comments","text","highlight","parts","split","RegExp","part","toLowerCase","offset","slice","currentRecords","length","table","_source","id","postId","getHighlightedText","name","searchInput","email","Json","JSON","stringify","InputForm","inputText","handleInputSearch","value","target","onSearch","handleSearch","handleFormatToTable","onFormat","handleFormatToJson","type","placeholder","onChange","autoFocus","Home","componentDidMount","fetch","then","response","json","data","commentsOriginal","isLoaded","error","console","log","search","filter","comment","indexOf","handleFormat","format","content","spin","CommentItem","body","Clock","date","Date","timerID","setInterval","tick","clearInterval","toLocaleTimeString","NotFound","location","useLocation","pathname","library","add","fas","App","exact","path","component","render","match","params","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.4c50cfa1.chunk.js","sourcesContent":["/* eslint-disable array-callback-return */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport \"./Paginate.scss\";\r\nimport React, { Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default class Paginate extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      totalRecords: (this.props.totalRecords) ? this.props.totalRecords : null,\r\n      pageLimit: (this.props.pageLimit) ? this.props.pageLimit : 30,\r\n      pageNeighbours: (this.props.pageNeighbours) ? this.props.pageNeighbours : 0\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.gotoPage(1);\r\n  }\r\n\r\n  range = (from, to, step = 1) => {\r\n    let i = from;\r\n    const range = [];\r\n    while (i <= to) {\r\n      range.push(i);\r\n      i += step;\r\n    }\r\n    return range;\r\n  }\r\n\r\n  gotoPage = (page) => {\r\n    this.props.onPageChanged(page);\r\n  }\r\n\r\n  fetchPageNumbers = () => {\r\n    this.totalPages = Math.ceil(this.props.totalRecords / this.props.pageLimit);\r\n    return [ ...this.range(1, this.totalPages) ]\r\n  }\r\n\r\n  handleClick = page => e => {\r\n    e.preventDefault();\r\n    this.gotoPage(page);\r\n  }\r\n\r\n  render() {\r\n    const { currentPage } = this.props;\r\n    const pages = this.fetchPageNumbers();\r\n    const dottedBtn = <li><Link to={'#'} className=\"btn btn-paginate\" disabled>...</Link></li>\r\n    if (!this.props.totalRecords || this.totalPages === 1) return null;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <nav aria-label=\"Pagination\">\r\n            <ul className=\"pagination\">\r\n              <li>\r\n                <Link to={'#'} className=\"btn btn-paginate\" onClick={this.handleClick( (currentPage > 1) ? currentPage - 1 : currentPage )}>\r\n                  <FontAwesomeIcon icon=\"angle-left\" />\r\n                </Link>\r\n              </li>\r\n\r\n              {\r\n                pages.map((page, index) => {\r\n                  if (page === 1) {\r\n                    return (\r\n                      <Fragment key={index}>\r\n                        <li key={index}>\r\n                          <Link to={'#'}\r\n                            className={`btn btn-paginate ${currentPage === page ? ' active' : ''}`}\r\n                            onClick={this.handleClick(page)}\r\n                            key={index}\r\n                          >{page}</Link>\r\n                        </li>\r\n                        { (currentPage > 5) ? dottedBtn : null }\r\n                      </Fragment>\r\n                    )\r\n                  }\r\n\r\n                  if (page < currentPage + 4 && page > currentPage - 4) {\r\n                    return (\r\n                      <li key={index}>\r\n                        <Link to={'#'}\r\n                          className={`btn btn-paginate ${currentPage === page ? ' active' : ''}`}\r\n                          onClick={this.handleClick(page)}\r\n                          key={index}\r\n                        >{page}</Link>\r\n                      </li>\r\n                    )\r\n                  }\r\n\r\n                  if (this.totalPages === page) {\r\n                    return (\r\n                      <Fragment key={index}>\r\n                        { dottedBtn }\r\n                        <li key={index}>\r\n                          <Link to={'#'}\r\n                            className={`btn btn-paginate ${currentPage === page ? ' active' : ''}`}\r\n                            onClick={this.handleClick(page)}\r\n                            key={index}\r\n                          >{page}</Link>\r\n                        </li>\r\n                      </Fragment>\r\n                    )\r\n                  }\r\n                })\r\n              }\r\n\r\n              <li>\r\n                <Link to={'#'} className=\"btn btn-paginate\" onClick={this.handleClick( (currentPage < this.totalPages) ? currentPage + 1 : currentPage )}>\r\n                  <FontAwesomeIcon icon=\"angle-right\" />\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}","import \"./Table.scss\";\r\nimport React, { Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Paginate from \"../../Paginate\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default class Table extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onPage = this.onPage.bind(this);\r\n    this.state = {\r\n      currentPage: 1,\r\n      totalPages: null,\r\n      pageLimit: 15,\r\n      comments: []\r\n    }\r\n  }\r\n\r\n  //ставим первую страницу если был выполнен поиск\r\n  componentDidUpdate = (prevProps) => {\r\n    if (this.props.searchCount > 0 && this.state.currentPage !== 1 && prevProps !== this.props) {\r\n      this.setState( {\r\n         currentPage: 1\r\n      });\r\n      this.forceUpdate();\r\n    }\r\n  }\r\n\r\n  // склоняет слово записи\r\n  numberDeclension = (number, word = 'запис') => {\r\n    if (!typeof($number) === 'number') throw `Value is not integer: ${number}`.toString();\r\n    if (number === 0 || number >= 5 ) return word + \"ей\";\r\n    if (number === 1) return word + \"ь\";\r\n    if (number >= 2 && number <= 4) return word + \"и\";\r\n  }\r\n\r\n  // запоминаем номер страницы по которой был клик\r\n  onPage = page => {\r\n    this.setState({\r\n      currentPage: page,\r\n    });\r\n  }\r\n\r\n  getHighlightedText(text, highlight) {\r\n    const parts = text.split(new RegExp(`(${highlight})`, 'gi'));\r\n    return <span>{parts.map((part, index) => part.toLowerCase() === highlight.toLowerCase() ? <b key={index} className=\"highlight\">{part}</b> : part)}</span>;\r\n  }\r\n\r\n  render() {\r\n    const { pageLimit, currentPage } = this.state;\r\n    const offset = (currentPage - 1) * pageLimit;\r\n    const comments = this.props.comments.slice(offset, offset + pageLimit);\r\n\r\n    const currentRecords = comments.length;\r\n    const totalRecords = this.props.comments.length;\r\n\r\n    let table = (\r\n      <table className=\"table__elk\">\r\n      <thead>\r\n        <tr>\r\n          <th>id</th>\r\n          <th>post_id</th>\r\n          <th>name</th>\r\n          <th>email</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {comments.map(({ _source }) => {\r\n          return (\r\n            <tr key={_source.id}>\r\n              <td>{ _source.id }</td>\r\n              <td>{ _source.postId }</td>\r\n              <td>{ this.getHighlightedText(_source.name, this.props.searchInput) }</td>\r\n              <td>{ this.getHighlightedText(_source.email, this.props.searchInput) }</td>\r\n              <td>\r\n                <Link to={`/comment/${_source.id}`} className=\"btn btn-arrow\">\r\n                  <FontAwesomeIcon icon=\"arrow-right\" />\r\n                </Link>\r\n              </td>\r\n            </tr>\r\n            );\r\n          })}\r\n      </tbody>\r\n    </table>\r\n    )\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className=\"pagination-group\">\r\n          <span className=\"total-records\">Показано {currentRecords} {this.numberDeclension(currentRecords)} из { totalRecords }</span>\r\n        </div>\r\n\r\n        { (currentRecords) ? table : <p>Нет записей для отображения</p> }\r\n\r\n        <Paginate\r\n          totalRecords={totalRecords}\r\n          pageLimit={pageLimit}\r\n          currentPage={currentPage}\r\n          onPageChanged={this.onPage}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import \"./Json.scss\";\r\nimport React from \"react\";\r\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nclass Json extends React.Component {\r\n  render() {\r\n    const { comments } = this.props;\r\n    return (\r\n      <pre className=\"json-container\">\r\n        {JSON.stringify(comments, null, 2)}\r\n      </pre>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Json;","import \"./InputForm.scss\";\nimport React from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nclass InputForm extends React.Component {\n  state = {\n    inputText: \"\",\n  };\n\n  handleInputSearch = ({ target: { value } }) => {\n    this.setState({\n      inputText: value,\n    });\n    this.props.onSearch(value);\n  };\n\n  handleSearch = (e) => {\n    e.preventDefault();\n    this.setState({ inputText: \"\" });\n    this.props.onSearch(this.state.inputText);\n  };\n\n  handleFormatToTable = (e)=> {\n    e.preventDefault();\n    this.props.onFormat('table');\n  }\n\n  handleFormatToJson = (e)=> {\n    e.preventDefault();\n    this.props.onFormat('json');\n  }\n\n  render() {\n    const { inputText } = this.state;\n    return (\n      <form className=\"inputForm\">\n        <input\n          type=\"text\"\n          name=\"searchInput\"\n          placeholder=\"Search\"\n          value={inputText}\n          onChange={this.handleInputSearch}\n          autoFocus\n        />\n\n        <button className=\"btn btn-search\" onClick={this.handleSearch} disabled>\n          <FontAwesomeIcon icon=\"search\" />\n        </button>\n\n        <div className=\"btn-group\">\n          <button className=\"btn\" onClick={this.handleFormatToTable}>TABLE</button>\n          <button className=\"btn\" onClick={this.handleFormatToJson}>JSON</button>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default InputForm;\n","import React, { Component, Fragment }from \"react\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Table from './comments/Table';\r\nimport Json from './comments/Json';\r\nimport InputForm from \"./comments/InputForm\";\r\n\r\nexport default class Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleFormat = this.handleFormat.bind(this);\r\n    this.handleSearch = this.handleSearch.bind(this);\r\n    this.state = {\r\n      error: null,\r\n      commentsOriginal: [],\r\n      comments: [],\r\n      format: 'table',\r\n      isLoaded: false,\r\n      searchCount: 0,\r\n      searchInput: ''\r\n    }\r\n  }\r\n\r\n  // загружаем данные\r\n  componentDidMount = () => {\r\n    fetch('https://dev.vershkoff.ru/vblob/comments.json').then(response => {\r\n      return response.json();\r\n    }).then((data) => {\r\n      this.setState({\r\n        commentsOriginal: data,\r\n        comments: data,\r\n        isLoaded: true\r\n      });\r\n    },\r\n    (error) => {\r\n      this.setState({\r\n        isLoaded: true,\r\n        error: error\r\n      });\r\n      console.log('ERROR: ', error);\r\n    });\r\n  }\r\n\r\n  // выполняем поиск\r\n  handleSearch = (search) => {\r\n    search = search.toLowerCase();\r\n    const commentsOriginal = this.state.commentsOriginal;\r\n    this.setState({\r\n      comments: commentsOriginal.filter(comment => {\r\n        return (comment._source.name.toLowerCase().indexOf(search) !== -1) || (comment._source.email.toLowerCase().indexOf(search) !== -1);\r\n      }),\r\n      searchCount: search.length,\r\n      searchInput: search\r\n    });\r\n  }\r\n\r\n  //ставим формат вывода - таблица/json\r\n  handleFormat(format) {\r\n    this.setState({ format: format });\r\n  }\r\n\r\n  render() {\r\n    const { error, isLoaded , comments, format, searchCount, searchInput } = this.state;\r\n    let content;\r\n    if (error) {\r\n      content = <div className=\"error\">Ошибка загрузки данных</div>;\r\n    } else if (!isLoaded) {\r\n      content = <div><FontAwesomeIcon icon=\"spinner\" spin /></div>\r\n    } else if (format === 'table') {\r\n      content = <Table comments={comments} searchCount={searchCount} searchInput={searchInput}/>\r\n    } else {\r\n      content = <Json comments={ comments } />\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <h1>Search comments</h1>\r\n        <InputForm\r\n          onSearch={this.handleSearch}\r\n          onFormat={this.handleFormat}\r\n          format={format}\r\n        />\r\n        {content}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n","import \"./CommentItem.scss\";\r\nimport React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default class CommentItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      comment: [],\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    fetch('https://dev.vershkoff.ru/vblob/comment.json').then(response => {\r\n      return response.json();\r\n    }).then(\r\n      (data) => {\r\n        this.setState({\r\n          comment: data,\r\n          isLoaded: true\r\n        });\r\n      },\r\n      (error) => {\r\n        this.setState({\r\n          isLoaded: true,\r\n          error: error\r\n        });\r\n        console.error('error: ', error);\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { error, isLoaded , comment } = this.state;\r\n    if (error) {\r\n      return (\r\n        <div className=\"comment-item\">\r\n          <h1>Comment Details</h1>\r\n          <p className=\"error\">Ошибка загрузки</p>\r\n          <Link to={'/'} className=\"btn btn-default\"><FontAwesomeIcon icon=\"arrow-left\" /> Назад</Link>\r\n        </div>\r\n      )\r\n    } else if (!isLoaded) {\r\n      return <div><FontAwesomeIcon icon=\"spinner\" spin /></div>\r\n    } else {\r\n      return (\r\n        <div className=\"comment-item\">\r\n          <h1>Comment Details</h1>\r\n          <div className=\"content\">\r\n            <p><b>id: </b>{comment.id}</p>\r\n            <p><b>postId: </b>{comment.postId}</p>\r\n            <p><b>name: </b>{comment.name}</p>\r\n            <p><b>email: </b>{comment.email}</p>\r\n            <p><b>content: </b>{comment.body}</p>\r\n          </div>\r\n          <Link to={'/'} className=\"btn btn-default\"><FontAwesomeIcon icon=\"arrow-left\" /> Назад</Link>\r\n        </div>\r\n      )\r\n    }\r\n\r\n  }\r\n}","import React from \"react\";\n\nclass Clock extends React.Component {\n  state = { date: new Date() };\n\n  componentDidMount() {\n    this.timerID = setInterval(() => this.tick(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  tick() {\n    this.setState({ date: new Date() });\n  }\n\n  render() {\n    return (\n      <div className=\"clock\">\n        <p>{this.state.date.toLocaleTimeString()}</p>\n      </div>\n    );\n  }\n}\n\nexport default Clock;\n","import { Link, useLocation } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function NotFound() {\r\n  let location = useLocation();\r\n\r\n  return (\r\n    <div>\r\n      <h3>\r\n        <p>Page <code className=\"error\">{location.pathname}</code> not found!</p>\r\n        <br/>\r\n        <Link to={'/'} className=\"btn btn-default\"><FontAwesomeIcon icon=\"home\" /> На главную</Link>\r\n      </h3>\r\n    </div>\r\n  );\r\n}","import \"./App.scss\";\r\nimport React, { Component } from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { fas } from '@fortawesome/free-solid-svg-icons';\r\nimport Home from \"./components/pages/Home\";\r\nimport CommentItem from \"./components/pages/comments/CommentItem\";\r\nimport Clock from \"./components/Clock\";\r\nimport NotFound from \"./components/pages/NotFound\";\r\n\r\nlibrary.add(fas)\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <BrowserRouter>\r\n            <Switch>\r\n              <Route exact path=\"/vblob/\" component={Home} />\r\n              <Route\r\n                path=\"/vblob/comment/:id\"\r\n                render={({ match }) => <CommentItem id={match.params.id}/>} />\r\n              <Route exact path=\"/vblob/*\">\r\n                <NotFound />\r\n              </Route>\r\n            </Switch>\r\n          </BrowserRouter>\r\n          <Clock />\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}